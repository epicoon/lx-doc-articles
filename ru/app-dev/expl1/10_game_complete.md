[Английская версия (English version)](https://github.com/epicoon/lx-doc-articles/blob/master/en/app-dev/expl1/10_game_complete.md)

### Шаг 10. Собираем все воедино. Играем

Наш первый (и самый большой) плагин почти готов! Это 80% всего примера, который автор хотел продемонстрировать. После останется еще два плагина, в которых будет очень мало кода.

Чтобы закончить с этим плагином и уже поиграть, нужно написать код в файле `services/tetris/plugin/game/frontend/_main.js`, который соберет все, что мы делали до этого, воедино. Сразу приведу весь код, ведь его совсем немного:
```js
#lx:require Game;
#lx:require keyboard;

var game = new tetris.Game();
game.bind(Plugin->>tetris);

Plugin->>newGame.click(()=> game.newGame());
Plugin->>pause.click(()=> game.toggleActivity());
```

Что здесь делает директива `#lx:require`, думаю, уже ясно.

Далее мы просто создаем экземпляр игры и связываем его (это ведь модель) с виджетом, имеющим ключ `tetris`. Если вспомнить что мы писали в представлении плагина, можно заметить, что это практически корневой виджет всего представления игры. Все верно, алгоритм связывания сам найдет какие дочерние элементы виджета `tetris`  способны отслеживать поля и поставит их в соответствие с полями модели игры.

Посделним мазком навешиваем на кнопки обработчики событий. Запускаем игру, пробуем.

[Следующий шаг](https://github.com/epicoon/lx-doc-articles/blob/master/ru/app-dev/expl1/11_leaders_plugin.md)
